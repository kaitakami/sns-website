{
  "openapi": "3.0.3",
  "info": {
    "title": "Domu BNP API",
    "description": "Welcome to the Domu BNP API documentation. Domu, the company behind this API, has designed it specifically for BNP's needs. Our primary objective is to ensure that BNP's team can integrate and utilize our API with ease. This documentation provides a comprehensive guide to help you understand and implement the API effectively.\n",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://oxhkwywu00.execute-api.us-east-1.amazonaws.com/production/outbound/otp/"
    }
  ],
  "paths": {
    "/initializecall": {
      "post": {
        "summary": "Initialize outbound call and execute the OTP flow",
        "description": "This API endpoint is designed to initialize an outbound call and execute the OTP flow.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "insuranceType": {
                    "type": "string"
                  },
                  "paymentAmount": {
                    "type": "string"
                  },
                  "customerName": {
                    "type": "string"
                  },
                  "partnerName": {
                    "type": "string"
                  },
                  "npsMinValue": {
                    "type": "string"
                  },
                  "npsMaxValue": {
                    "type": "string"
                  },
                  "period": {
                    "type": "string"
                  },
                  "insuranceCompany": {
                    "type": "string"
                  },
                  "destinationPhoneNumber": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "$metadata": {
                      "type": "object",
                      "properties": {
                        "httpStatusCode": {
                          "type": "number"
                        },
                        "requestId": {
                          "type": "string"
                        },
                        "attempts": {
                          "type": "number"
                        },
                        "totalRetryDelay": {
                          "type": "number"
                        }
                      }
                    },
                    "ContactId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "in": "header",
            "name": "x-api-key",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          }
        ]
      }
    },
    "/retrieveconversation/{conversationId}": {
      "get": {
        "summary": "Retrieve details of a specific conversation",
        "description": "This API endpoint is designed to retrieve the details of a specific conversation, including transcriptions, agent rating, and customer confirmation status.",
        "parameters": [
          {
            "in": "path",
            "name": "conversationId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Contact ID of the conversation"
          },
          {
            "in": "header",
            "name": "x-api-key",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Your API key"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "transcription": {
                      "type": "string"
                    },
                    "agentRating": {
                      "type": "number"
                    },
                    "customerConfirmation": {
                      "type": "boolean"
                    },
                    "status": {
                      "type": "string"
                    },
                    "duration": {
                      "type": "string"
                    },
                    "startTime": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "endTime": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
